<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
 
</head>
<body>
   <div class="container mt-5">
    <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Chapter" aria-label="Recipient's username" aria-describedby="button-addon2">
        <button id="add_btn" class="btn btn-outline-success" type="button"  id="button-addon2">Add</button>
      </div>
      <ul id='parentList' class="list-group">
        <li class="list-group-item d-flex justify-content-between"><h3 class="flex-grow-1">Chapter 1</h3>
            <button class="btn btn-danger mx-3  " onclick="removeChap(this)">Remove</button>
            <button class="btn btn-warning"  onclick="editChap(this)">Edit</button>

        </li >

  
      </ul>
    </div>
    <script>
        let Addbutton=document.getElementById('add_btn');
        Addbutton.addEventListener("click", add);
        let parentList =document.getElementById('parentList');

        function add(e){
            if(parentList.children[0].className =="emptyMsg")
            {
                parentList.children[0].remove()
            }
            let currentbtn=e.currentTarget;
           let  currentInput=currentbtn.previousElementSibling
          let currentChapter=currentInput.value;

           let newLi=document.createElement('li');
        //    newLi.classList.add('list-group-item');
        newLi.className="list-group-item d-flex justify-content-between"
        //newli.textContent=currentInput.value;
        newLi.innerHTML = `<h3 class="flex-grow-1">${currentChapter}</h3> <button class="btn btn-danger mx-3  "  onclick="removeChap(this)">Remove</button>
            <button class="btn btn-warning"  onclick="editChap(this)" >Edit</button>`
           
        
           parentList.appendChild(newLi)
 }
        function removeChap(currElement){
            currElement.parentElement.remove()
            let parentList =document.getElementById('parentList');
            if(parentList.children.length <= 0){
            let newEmptymsg =document.createElement("h3")
            newEmptymsg.classList.add("emptyMsg")
            newEmptymsg.textContent ="Nothing is here. PLease  Add a chapter "
            parentList.appendChild(newEmptymsg)
        }
        }
        function editChap(currElement){
            if(currElement.textContent=="Done"){
                currElement.textContent="Edit"
                let currentchapter=currElement.previousElementSibling.value
                let currentHeading=document.createElement('h3');
                currentHeading.className="flex-grow-1"
                currentHeading.textContent=currentchapter

                currElement.parentElement.replaceChild(currentHeading,currElement.previousElementSibling)

            }
            else{
                currentElement.textContent="Done"
            let currentchapter=currentElement.previousElementSibling.textContent
            let currentInput=document.createElement('input')
            currentInput.type="text"
            currentInput.className="form-control"
            currentInput.placeholder="Chapter Name"
            currentInput.value=currentchapter;
            currElement.parentElement.replaceChild(currentInput,currentElement.previousElementSibling)
            }

            
            
        }

     

    </script>

</body>
</html>
