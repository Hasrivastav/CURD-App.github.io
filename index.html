<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
 
</head>
<body>
   <div class="container mt-5">
    <div class="input-group mb-3">
        <input type="text" class="form-control" placeholder="Chapter" aria-label="Recipient's username" aria-describedby="button-addon2">
        <button id="add_btn" class="btn btn-outline-success" type="button"  id="button-addon2">Add</button>
      </div>
      <ul id='parentList' class="list-group">
        <li class="list-group-item d-flex justify-content-between"><h3 class="flex-grow-1">Chapter 1</h3>
            <button class="btn btn-danger mx-3  " onclick="removeChap(this)">Remove</button>
            <button class="btn btn-warning"  onclick="editChap(this)">Edit</button>

        </li >

  
      </ul>
    </div>
    <script>
        let add_btn=document.getElementById('add_btn');
        add_btn.addEventListener("click", add_chapter);
        let parentList=document.getElementById("parentList");
        function add_chapter(e){
               if(parentList.children[0].className =="empty_msg"){
                parentList.children[0].remove();
                
               }
               let currentBtn = e.currentTarget;
                 let currentInput=currentBtn.previousElementSibling;
                 let currentChapter=currentInput.value;

                 let newli=document.createElement("li");
                 newli.className ="list-group-item d-flex justify-content-between";
                 newli.innerHTML=`<h3 class="flex-grow-1">${currentChapter}</h3>
            <button class="btn btn-danger mx-3  " onclick="removeChap(this)">Remove</button>
            <button class="btn btn-warning"  onclick="editChap(this)">Edit</button>`
             
           
            parentList.appendChild(newli);
                



        };

         function removeChap(currentElement){

            currentElement.parentElement.remove();
            let parrentList=document.getElementById("parrentList");
            if(parentList.children.length <=0)
            {
                let emptyMsg = document.createElement("h3");
                emptyMsg.classList.add("empty_msg")
                emptyMsg.innerHTML="Nothing is here,please add Something!!"
                parentList.appendChild(emptyMsg);
            }

         }

         function editChap(currentElement){
            if(currentElement.textContent=="Done"){
                currentElement.textContent="Edit";
          let currentChapName=currentElement.previousElementSibling.previousElementSibling.value;
          let ChapInput=document.createElement('h3');
                
          ChapInput.className="flex-grow-1"
          ChapInput.textContent=currentChapName
          currentElement.parentElement.replaceChild(ChapInput, currentElement.previousElementSibling.previousElementSibling);

        }
            else{
            currentElement.textContent="Done";
          let currentChapName=currentElement.previousElementSibling.previousElementSibling.textContent;
           
          let ChapInput=document.createElement('input');
          ChapInput.type="text"
          ChapInput.placeholder="chapter Name"        
          ChapInput.className="form-control"
          ChapInput.value=currentChapName
          currentElement.parentElement.replaceChild(ChapInput, currentElement.previousElementSibling.previousElementSibling);
            }


         }

     

    </script>

</body>
</html>
